<ng-container *ngIf="user$ | async as user">
  <input
    type="file"
    (dragenter)="onDragEnter()"
    (dragleave)="onDragLeave()"
    (drop)="onDrop()"
    (input)="onInput($event, user)"
  />

  <div
    class="image-upload"
    [style.background-image]="getBackgroundPictureUrl(user.picture)"
    [class.file-dragged-over]="fileDraggedOver"
  >
    <div *ngIf="!loading; else loading" class="drop-here">
      <i class="material-icons material-icons-outlined">image</i>
      <span>Click to upload an image or drag and drop it here</span>
    </div>
  </div>
</ng-container>

<ng-template #loading>
  <div class="spinner">
    <mat-spinner [diameter]="24"></mat-spinner>
  </div>
</ng-template>

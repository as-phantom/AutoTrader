<div class="container" *ngIf="ad$ | async as ad; else loading">
  <section class="picture-section">
    <div class="image-container">
      <img src="{{ ad.picture }}" />
      <!-- <carousel></carousel> -->
    </div>

    <div class="info">
      <h1>{{ ad.make }} {{ ad.model }}</h1>
      <h2>{{ ad.year }}</h2>
      <h3>{{ ad.currency | currency }} {{ ad.price }}</h3>

      <ng-container *ngIf="user$ | async as user; else notOwner">
        <ng-container *ngIf="user.id === ad.userID; else notOwner">
          <!-- <button class="btn edit" value="{{ user }}" routerLink="/ads/edit/{{ ad.id }}">Edit</button> -->
          <!-- <button class="btn delete" routerLink="/ads/delete/{{ ad.id }}">Delete</button> -->

          <button class="btn edit">Edit</button>
          <button class="btn delete">Delete</button>
        </ng-container>
      </ng-container>

      <ng-template #notOwner>
        <!-- <button *ngIf="!contacts" (click)="showContacts()" class="btn">Contact Seller</button> -->

        <mat-expansion-panel class="contacts">
          <mat-expansion-panel-header>
            <mat-panel-description>Contact Seller</mat-panel-description>
          </mat-expansion-panel-header>
          <p><fa-icon [icon]="faPhone"></fa-icon> {{ ad.phone }}</p>
        </mat-expansion-panel>
      </ng-template>

      <div class="location">
        <h2>Vehicle location</h2>
        <fa-icon [icon]="faMapMarker"></fa-icon>
      </div>

      <div class="specs">
        <ul>
          <li>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <g fill="#">
                <path d="M0 0h24v24H0V0z" fill="none"></path>
                <path
                  d="M5 14H4v1a1 1 0 0 1-2 0v-4a1 1 0 0 1 2 0v1h1v-2h1l1.7-1.7a1 1 0 0 1 .71-.3H11V7h-1a1 1 0 1 1 0-2h4a1 1 0 0 1 0 2h-1v1h1.76a2 2 0 0 1 1.8 1.1L18 12h2v-1h1s1-.41 1 4c0 4-1 4-1 4h-1v-2h-2v1a1 1 0 0 1-1 1h-7a2 2 0 0 1-1.6-.8L6 15H5v-1zm2-1l3 4h6v-1a1 1 0 0 1 1-1h3v-1h-2.62a1 1 0 0 1-.9-.56l-1.71-3.43H8.84L7 11.82V13z"
                ></path>
              </g>
            </svg>

            {{ ad.engine.toFixed(1) }} L
          </li>
          <li>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M0 0h24v24H0V0z" fill="none"></path>
              <path
                d="M6 11h5V6.73a2 2 0 112 0V11h4a1 1 0 001-1V6.73a2 2 0 112 0V10a3 3 0 01-3 3h-4v4.27a2 2 0 11-2 0V13H6v4.27a2 2 0 11-2 0V6.73a2 2 0 112 0V11z"
              ></path>
            </svg>

            {{ ad.transmission }}
          </li>
          <li>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <g fill="#">
                <path d="M0 0h24v24H0V0z" fill="none"></path>
                <path
                  d="M6 19h6V5H6v14zm8-8h3a1 1 0 0 1 1 1v6a.5.5 0 0 0 1 0V7.44l-1.82-1.82a1 1 0 1 1 1.42-1.41l2.1 2.1a1 1 0 0 1 .3.71V18a2.5 2.5 0 0 1-5 0v-5h-2v5.02c.57.1 1 .59 1 1.18v.6c0 .66-.54 1.2-1.2 1.2H4.2A1.2 1.2 0 0 1 3 19.8v-.6c0-.6.43-1.09 1-1.18V4.2C4 3.54 4.56 3 5.25 3h7.5c.69 0 1.25.54 1.25 1.2V11zM8 6h2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z"
                ></path>
              </g>
            </svg>

            {{ ad.fuel }}
          </li>
          <li><fa-icon [icon]="faHeartbeat"></fa-icon> {{ ad.condition }}</li>
        </ul>
      </div>
    </div>
  </section>
</div>

<ng-template #loading>
  <app-loading></app-loading>
</ng-template>
